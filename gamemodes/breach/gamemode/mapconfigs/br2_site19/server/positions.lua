
-- Spawns in Class D's cells
MAPCONFIG.SPAWNS_CLASSD_CELLS = {
	Vector(7989.5859375, -6041.234375, 250.33126831055),
	Vector(7989.6372070313, -5914.228515625, 250.33126831055),
	Vector(7989.8125, -5786.158203125, 250.33126831055),
	Vector(7989.224609375, -5016.3681640625, 250.33126831055),
	Vector(7990.0361328125, -5145.0615234375, 250.33126831055),
	Vector(7989.7451171875, -5274.3095703125, 250.33126831055),
	Vector(7989.6923828125, -5401.9360351563, 250.33126831055),
	Vector(7989.9907226563, -5530.3374023438, 250.33126831055),
	Vector(7989.841796875, -5658.0922851563, 250.33126831055),
	Vector(6393.6186523438, -6171.0668945313, 154.33126831055),
	Vector(6393.9770507813, -6042.9365234375, 154.33126831055),
	Vector(6393.763671875, -5914.595703125, 154.33126831055),
	Vector(5961.8071289063, -6181.703125, 154.33126831055),
	Vector(5961.1547851563, -6053.8911132813, 154.33126831055),
	Vector(5961.4296875, -5925.7319335938, 154.33126831055),
	Vector(5961.58984375, -5413.5649414063, 154.33126831055),
	Vector(5961.2373046875, -5285.6147460938, 154.33126831055),
	Vector(5961.0874023438, -5157.85546875, 154.33126831055),
	Vector(5961.6088867188, -5030.025390625, 154.33126831055),
	Vector(6393.5400390625, -5018.517578125, 154.33126831055),
	Vector(6393.466796875, -5146.3115234375, 154.33126831055),
	Vector(6393.5991210938, -5274.2685546875, 154.33126831055),
	Vector(6394.3911132813, -5403.052734375, 154.33126831055),		
}

-- Spawns in Light Containment Zone
MAPCONFIG.SPAWNS_LCZ = {
	Vector(8017.2021484375, -4497.0229492188, 26.331047058105),
	Vector(9430.416015625, -3484.1845703125, 26.3310546875),
	Vector(7245.1606445313, -3116.0327148438, 26.331047058105),
	Vector(8725.3818359375, -4678.0537109375, 26.3310546875),
	Vector(6707.2299804688, -4837.7900390625, 26.3310546875),
	Vector(6917.3217773438, -4186.2197265625, 154.33126831055),
	Vector(7300.1918945313, -4361.2124023438, 26.331047058105),
	Vector(8133.4204101563, -3569.7744140625, 26.3310546875),
	Vector(9149.4052734375, -4290.3603515625, -101.66875457764),
	Vector(10066.885742188, -3349.6564941406, 26.3310546875),
	Vector(8603.6962890625, -2854.8977050781, 26.331047058105),
	Vector(8466.3125, -4128.0185546875, 26.3310546875),
	Vector(6291.0463867188, -4214.3046875, 282.33123779297),
	Vector(7356.15625, -2845.5275878906, 26.3310546875),		
}

-- Spawns in Heavy Containment Zone
MAPCONFIG.SPAWNS_HCZ = {
	Vector(4093.6809082031, -3058.1877441406, -11007.96875),
	Vector(3828.6296386719, -4083.9150390625, -11007.96875),
	Vector(3943.4584960938, -5059.0190429688, -11007.96875),
	Vector(2619.6279296875, -5233.72265625, -11007.96875),
	Vector(2802.6669921875, -4101.056640625, -11007.96875),
	Vector(2527.8718261719, -3166.8103027344, -11007.96875),
	Vector(2626.8662109375, -2434.3811035156, -11007.96875),
	Vector(2560.8854980469, -785.67864990234, -11007.96875),
	Vector(2660.451171875, 315.93859863281, -11007.96875),
	Vector(1802.83203125, 181.89094543457, -11155.96875),
	Vector(618.29425048828, 368.84930419922, -11007.96875),
	Vector(596.25, 1833.5416259766, -11007.96875),
	Vector(1405.4055175781, -530.99792480469, -11155.96875),
	Vector(4121.75390625, -694.64263916016, -11007.96875),
	Vector(4351.4794921875, 318.91464233398, -11007.96875),
	Vector(3835.9873046875, 1363.0443115234, -11007.96875),	
}

-- Spawns in Entrance Zone
MAPCONFIG.SPAWNS_ENTRANCEZONE = {
	Vector(604.849609375, -3430.6850585938, -11007.96875),
	Vector(-410.59155273438, -3057.9809570313, -11007.96875),
	Vector(46.768898010254, -1898.9454345703, -11007.96875),
	Vector(-746.80480957031, -1332.8857421875, -11007.96875),
	Vector(-1275.4210205078, -1847.3405761719, -11007.96875),
	Vector(-1304.208984375, -822.34478759766, -11007.96875),
	Vector(-1944.0776367188, -1090.7785644531, -11071.96875),
	Vector(-2610.3818359375, -466.51013183594, -11007.96875),
	Vector(-3651.0029296875, -1441.7298583984, -11007.96875),
	Vector(-3046.1352539063, -1946.9820556641, -11007.96875),
	Vector(-3796.1806640625, -1951.7912597656, -11007.96875),
	Vector(-2611.0634765625, -2067.2834472656, -11007.96875),

	Vector(-1401.4118652344, 2546.0329589844, -11007.96875),
	Vector(-1784.5322265625, 1795.1351318359, -11007.96875),
	Vector(-2291.3203125, 1171.2570800781, -11007.96875),
	Vector(-2418.6645507813, 1931.8485107422, -11007.96875),
	Vector(-2107.0529785156, 2998.1135253906, -11007.96875),
	Vector(-2407.1291503906, 3842.2856445313, -11007.96875),
	Vector(-3637.8227539063, 3619.3813476563, -11007.96875),
	Vector(-3312.724609375, 2984.9719238281, -11007.96875),
	Vector(-2414.6506347656, 3158.9052734375, -11007.96875),
	Vector(-3626.4067382813, 2147.7026367188, -11007.96875),
	Vector(-2877.8366699219, 1372.2808837891, -11007.96875),
	Vector(-3926.0266113281, 2972.0908203125, -11007.96875),
	Vector(-4628.2587890625, 2817.8217773438, -11007.96875),	
}

-- Where Security spawns
MAPCONFIG.SPAWNS_ENTRANCEZONE_EARLY = {
	Vector(-456.01837158203, 1961.9810791016, 25.03125),
	Vector(-1166.3883056641, 2358.0119628906, 25.03125),
	Vector(357.19842529297, 1941.8425292969, 25.03125),
	Vector(901.34521484375, 2342.3420410156, 25.03125),
	Vector(2.5894393920898, 2378.8195800781, 25.03125),
	Vector(-292.97686767578, 2887.3669433594, 25.03125),
	Vector(-1795.4030761719, 1524.6423339844, -38.968757629395),
	Vector(-1014.2370605469, 3167.3076171875, 25.03125),	
}

-- Where Chaos Insurgency spawns later
MAPCONFIG.SPAWNS_CHAOSINSURGENCY = {
	{
		name = "Near Gate C",
		spawns = {
			Vector(-2000.0887451172, 6036.6811523438, 153.03125),
			Vector(-1915.6759033203, 6091.5317382813, 153.03125),
			Vector(-1801.5711669922, 6031.0366210938, 153.03125),
			Vector(-1685.8961181641, 6083.5708007813, 153.03125),
			Vector(-1585.8671875, 6042.3208007813, 153.03125),
			Vector(-1414.9865722656, 6074.6020507813, 153.03125),
			Vector(-1417.6160888672, 5949.8334960938, 153.03125),
			Vector(-1540.5064697266, 5895.1303710938, 153.03125),			
		}
	},
	{
		name = "Near Gate B",
		spawns = {
			Vector(-3572.4360351563, 2563.1325683594, 25.03125),
			Vector(-3664.6940917969, 2542.2980957031, 25.03125),
			Vector(-3715.4572753906, 2594.2312011719, 25.031234741211),
			Vector(-3622.7153320313, 2616.0109863281, 25.031234741211),
			Vector(-3674.8610839844, 2755.3562011719, 25.03125),
			Vector(-3618.2592773438, 2818.9736328125, 25.03125),
			Vector(-3674.5258789063, 2881.8774414063, 25.031257629395),					
		},
	},
	{
		name = "Near Gate A",
		spawns = {
			Vector(-511.00891113281, 4744.8452148438, 25.03125),
			Vector(-398.77838134766, 4752.5922851563, 25.031257629395),
			Vector(-375.62115478516, 4675.2875976563, 25.03125),
			Vector(-454.79257202148, 4687.8735351563, 25.03125),
			Vector(-518.28680419922, 4663.7211914063, 25.03125),
			Vector(-439.06677246094, 4553.443359375, 25.03125),
			Vector(-447.50454711914, 4472.71484375, 25.03125),							
		},
	}
}

-- Where CI Soldiers spawn at the start of the round
MAPCONFIG.SPAWNS_ENTRANCEZONE_LATE = {}

for k,v in pairs(MAPCONFIG.SPAWNS_CHAOSINSURGENCY) do
	table.Add(MAPCONFIG.SPAWNS_ENTRANCEZONE_LATE, v.spawns)
end

-- SCP 035's spawns
MAPCONFIG.SPAWNS_SCP_035 = {
	Vector(5359.7529296875, -989.15173339844, 25.03125),
	Vector(5369.8647460938, -848.32495117188, 25.03125),
	Vector(5363.81640625, -746.93292236328, 25.03125),	
}

-- SCP 939's spawns
MAPCONFIG.SPAWNS_SCP_939 = {
	/* TUNNELS
	Vector(10377.458984375, -3034.5812988281, -11926.96875),
	Vector(10177.947265625, -3068.7216796875, -11926.96875),
	Vector(10436.907226563, -2514.0278320313, -11926.96875),
	Vector(9562.6865234375, -3100.2783203125, -11926.96875),
	Vector(10424.693359375, -2212.7465820313, -11926.96875),
	*/
	Vector(2110.0849609375, -7001.09765625, -11177.252929688),
	Vector(2066.5224609375, -6760.5961914063, -11177.954101563),
	Vector(2075.2351074219, -6503.4467773438, -11177.142578125),
	Vector(2135.0642089844, -6201.791015625, -11176.469726563),
	Vector(2168.2055664063, -5907.087890625, -11170.450195313),
	Vector(3105.6281738281, -6029.443359375, -11176.442382813),
	Vector(3195.0280761719, -6414.5893554688, -11172.379882813),
	Vector(3213.6066894531, -6728.0366210938, -11179.385742188),
	Vector(3186.83203125, -6983.7607421875, -11177.963867188),
	Vector(2481.6774902344, -7112.7700195313, -11179.475585938),
	Vector(3037.4125976563, -7129.06640625, -11172.30859375),
	Vector(2891.4426269531, -6010.423828125, -11181.708984375)
}

-- SCP 049's spawns
MAPCONFIG.SPAWNS_SCP_049 = {
	Vector(7487.7592773438, -322.88092041016, 25.031253814697),
	Vector(7484.7734375, -391.30520629883, 25.03125),
	Vector(7489.7456054688, -467.63217163086, 25.03125)	
}

-- SCP 096's spawns
MAPCONFIG.SPAWNS_SCP_096 = {
	Vector(4749.9409179688, 3584.7700195313, 25.03125),
	Vector(4746.8383789063, 3733.7263183594, 25.03125),
	Vector(4829.6723632813, 3655.904296875, 25.031265258789),
	Vector(4896.8686523438, 3738.7287597656, 25.03125),
	Vector(4864.3876953125, 3565.3852539063, 25.031234741211)
}

-- SCP 173's spawns
MAPCONFIG.SPAWNS_SCP_173 = {
	Vector(6410.3432617188, -3056.7084960938, 154.33126831055),
	Vector(6403.6982421875, -3150.7822265625, 154.33126831055),
	Vector(6406.5014648438, -3254.2114257813, 154.33126831055),
	Vector(6408.4384765625, -3368.9748535156, 154.33126831055),
	Vector(6279.6723632813, -3363.1389160156, 154.33126831055),
	Vector(6277.7958984375, -3251.0249023438, 154.33126831055),
	Vector(6277.7958984375, -3158.7119140625, 154.33126831055),
	Vector(6293.3134765625, -3042.0361328125, 154.33126831055),
	Vector(6186.4711914063, -3066.1765136719, 154.33126831055),
	Vector(6185.7607421875, -3169.60546875, 154.33126831055),
	Vector(6174.9404296875, -3268.3129882813, 154.33126831055),
	Vector(6177.140625, -3369.8483886719, 154.33126831055),
}

-- SCP 106's spawn
MAPCONFIG.SPAWNS_SCP_106 = {
	Vector(2188.9787597656, 4802.0141601563, -422.96875),
	Vector(2197.0236816406, 4570.9106445313, -422.96875),
	Vector(2187.69921875, 4364.0859375, -422.96875),
	Vector(2199.138671875, 4205.3881835938, -422.96875),
	Vector(2421.884765625, 4178.779296875, -422.96875),
	Vector(2583.5695800781, 4159.3491210938, -422.96875),
	Vector(2751.7434082031, 4172.54296875, -422.96875),
	Vector(2784.7646484375, 4317.9809570313, -422.96875),
	Vector(2788.7709960938, 4488.138671875, -422.96875),
	Vector(2774.6662597656, 4658.8466796875, -422.96875),
	Vector(2662.3779296875, 4814.5639648438, -422.96875),
	Vector(2366.7707519531, 4805.1416015625, -422.96875),
}

-- SCP 457's spawn
MAPCONFIG.SPAWNS_SCP_457 = {
	Vector(6959.3212890625, 2184.4653320313, 25.031257629395),
	Vector(6959.2270507813, 2286.6853027344, 25.03125),
	Vector(7063.8227539063, 2180.7258300781, 25.03125),
	Vector(7058.2709960938, 2255.9326171875, 25.031242370605),
	Vector(7071.4560546875, 2507.2099609375, 25.03125),
	Vector(7065.4453125, 2392.7883300781, 25.03125)
}

-- SCP 966's spawn
MAPCONFIG.SPAWNS_SCP_966 = {
	Vector(4389.8168945313, 2422.8022460938, 25.03125),
	Vector(4350.0375976563, 2325.1171875, 25.03125),
	Vector(4413.7954101563, 2332.9682617188, 25.03125),		
}


-- Where Mobile Task Force spawns when they arrive in the facility
MAPCONFIG.SPAWNS_MTF = {
	{
		name = "Gate A Elevator",
		spawns = {
			Vector(-64.202621459961, 5218.0283203125, 25.03125),
			Vector(-62.697875976563, 5155.3833007813, 25.03125),
			Vector(-133.82434082031, 5217.0883789063, 25.03125),
			Vector(-133.78225708008, 5154.0717773438, 25.03125),			
		},
		available = function()
			local pos1 = Vector(-184,5300,-40)
			local pos2 = Vector(11,5066,140)
			OrderVectors(pos1, pos2)
			for k,v in pairs(player.GetAll()) do
				if v:Alive() and !v:IsSpectator() and v.br_team != TEAM_MTF and v:GetPos():WithinAABox(pos1, pos2) then
					print("someone is in the right elev")
					return false
				end
			end

			local trace = util.TraceLine({
				start = Vector(-192,5161,101),
				endpos = Vector(-175,5160,101),
				mask = MASK_SOLID,
			})

			local room_areas = {
				{Vector(-752,5191,36), Vector(-940,5375,282)},
				{Vector(-741,5443,-60), Vector(-12,4653,526)}
			}

			for k,v in pairs(room_areas) do
				OrderVectors(v[1], v[2])
				for k2,pl in pairs(player.GetAll()) do
					if pl:Alive() and !pl:IsSpectator() and pl.br_team != TEAM_MTF and pl:GetPos():WithinAABox(v[1], v[2]) then
						if trace.Hit == false then
							print("someone is in the room, elev doors are open so we cant spawn")
							return false
						end
					end
				end
			end

			print("noone in room or elev, we can spawn")
			return true
		end,
		func = function()
			for k,v in pairs(ents.GetAll()) do
				if v:GetClass() == "func_button" and v:GetPos():Distance(Vector(-193, 5144, 53)) < 8 then
					v:Use(Entity(1), Entity(1), 1, 1)
					return
				end
			end
		end
	},
	{
		name = "Gate C Elevator",
		spawns = {
			Vector(-2214.8959960938, 6352.0361328125, 153.03125),
			Vector(-2280.7270507813, 6352.490234375, 153.03125),
			Vector(-2279.5729980469, 6407.6342773438, 153.03125),
			Vector(-2218.2434082031, 6408.353515625, 153.03125),					
		},
		available = function()
			local pos1 = Vector(-2171,6281,73)
			local pos2 = Vector(-2371,6485,279)
			OrderVectors(pos1, pos2)
			for k,v in pairs(player.GetAll()) do
				if v:Alive() and !v:IsSpectator() and v.br_team != TEAM_MTF and v:GetPos():WithinAABox(pos1, pos2) then
					print("someone is in the right elev")
					return false
				end
			end

			local trace = util.TraceLine({
				start = Vector(-5554,2370,-10792),
				endpos = Vector(-5554,2361,-10792),
				mask = MASK_SOLID,
			})

			local pos3 = Vector(-2360,6181,111)
			local pos4 = Vector(-1596,6849,430)
			OrderVectors(pos3, pos4)
			for k,v in pairs(player.GetAll()) do
				if v:Alive() and !v:IsSpectator() and v.br_team != TEAM_MTF and v:GetPos():WithinAABox(pos3, pos4) then
					if trace.Hit then
						print("someone is in the room, elev doors are closed so we can spawn")
					else
						print("someone is in the room, elev doors are open so we cant spawn")
					end
					return trace.Hit
				end
			end

			print("noone in room or elev, we can spawn")
			return true
		end,
		func = function()
			for k,v in pairs(ents.GetAll()) do
				if v:GetClass() == "func_button" and v:GetPos():Distance(Vector(-2159, 6424, 181)) < 10 then
					v:Use(Entity(1), Entity(1), 1, 1)
					return
				end
			end
		end
	},
	{
		name = "Gate B Elevator",
		spawns = {
			Vector(-3863.9428710938, 1786.3833007813, 25.03125),
			Vector(-3926.498046875, 1791.9320068359, 25.03125),
			Vector(-3868.4360351563, 1864.0349121094, 25.03125),
			Vector(-3930.1420898438, 1861.8961181641, 25.03125),								
		},
		available = function()
			local pos1 = Vector(-3812,1908,-35)
			local pos2 = Vector(-4010,1705,151)
			OrderVectors(pos1, pos2)
			for k,v in pairs(player.GetAll()) do
				if v:Alive() and !v:IsSpectator() and v.br_team != TEAM_MTF and v:GetPos():WithinAABox(pos1, pos2) then
					print("someone is in the right elev")
					return false
				end
			end

			local trace = util.TraceLine({
				start = Vector(-3929,1921,105),
				endpos = Vector(-3929,1905,105),
				mask = MASK_SOLID,
			})

			local pos3 = Vector(-3086,2685,-93)
			local pos4 = Vector(-4056,1653,340)
			OrderVectors(pos3, pos4)
			for k,v in pairs(player.GetAll()) do
				if v:Alive() and !v:IsSpectator() and v.br_team != TEAM_MTF and v:GetPos():WithinAABox(pos3, pos4) then
					if trace.Hit then
						print("someone is in the room, elev doors are closed so we can spawn")
					else
						print("someone is in the room, elev doors are open so we cant spawn")
					end
					return trace.Hit
				end
			end

			print("noone in room or elev, we can spawn")
			return true
		end,
		func = function()
			for k,v in pairs(ents.GetAll()) do
				if v:GetClass() == "func_button" and v:GetPos():Distance(Vector(-3944, 1921, 53)) < 10 then
					v:Use(Entity(1), Entity(1), 1, 1)
					return
				end
			end
		end
	}
}

MAPCONFIG.POCKETDIMENSION_SPAWNS = {
	Vector(6417.7026367188, -8935.0888671875, -11009.96875),
	Vector(6422.3505859375, -9032.44921875, -11009.96875),
	Vector(6358.8291015625, -9096.5390625, -11009.96875),
	Vector(6269.1713867188, -9086.88671875, -11009.96875),
	Vector(6235.3081054688, -9006.2451171875, -11009.96875),
	Vector(6306.0776367188, -8939.521484375, -11009.96875),
	Vector(6335.7807617188, -9004.6904296875, -11009.96875),	
}

MAPCONFIG.SCP_294_CUP = {pos = Vector(3421.650635, 4728.646484, -7266.223633), ang = Angle(0, 0, 0)}

MAPCONFIG.SPAWNS_SECURITY = table.Copy(MAPCONFIG.SPAWNS_ENTRANCEZONE_EARLY)
MAPCONFIG.SPAWNS_CISOLDIERSEARLY = table.Copy(MAPCONFIG.SPAWNS_ENTRANCEZONE_LATE)

print("[Breach2] Server/Positions mapconfig loaded!")